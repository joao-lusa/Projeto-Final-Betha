<h1 class="mt-4">Pacientes</h1>
<ol class="breadcrumb mb-4">
    <li class="breadcrumb-item active">{{ paciente.id ? 'Edição' : 'Cadastro'}}</li>
</ol>

<div class="container">
    <form #form="ngForm" (submit)="onSubmit()">

        <div class="row">
            <div class="col-md-12">
                <div class="alert alert-success" role="alert" *ngIf="sucesso == true">
                    Paciente Salvo/Atualizado com sucesso!
                </div>

                <div class="alert alert-danger" role="alert" *ngFor="let erro of errosApi">
                    {{erro}}
                </div>
            </div>
        </div>

        <div class="row">
            <div class="form-group col-2">
                <label for="nome">ID:</label>
                <input type="text" 
                        class="form-control" 
                        [(ngModel)]="paciente.id" 
                        name="id"
                        disabled = "true"
                >
            </div>
            <div class="form-group col-10">
                <label for="nome">Nome:</label>
                <input type="text" 
                        class="form-control" 
                        [(ngModel)]="paciente.nome" 
                        name="nome"
                        placeholder="Informe o nome" 
                >
            </div>
            <div class="form-group col-12">
                <label for="nome">Data do exame:</label>
                <input type="text" 
                        class="form-control" 
                        [(ngModel)]="paciente.dataExame" 
                        name="dataExame"
                        placeholder="Informe a data" 
                >
            </div>
            
            <div class="form-group col-6">
                <label>Status: </label>
                <select class="form-control"
                        [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="paciente.status" 
                >
                <option value="">Selecione...</option>
                <option *ngFor="let valor of status" [value]="valor.value">
                    {{valor.viewValue}}
                </option>
                </select>
            </div>
            
            <div class="form-group col-6">
                <label>Exame: </label>
                <select class="form-control"
                        [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="paciente.idExame"            
                >
                    <option value="">Selecione..</option>
                    <option *ngFor="let exame of exames" [ngValue]="exame.id">
                        {{ exame.nome }}
                    </option>
                </select>
            </div>
        </div>

        <div class="row">
            <div class="col-md-3">
                <button type="submit" class="btn btn-success" *ngIf="!paciente.id">
                    <i class="fa fa-save"></i>Salvar
                </button>
                <button type="submit" class="btn btn-primary" *ngIf="paciente.id">
                    <i class="fa fa-save"></i> Atualizar
                </button>

                <button type="submit" class="btn btn-danger ml-1" routerLink="/pacientesLista">
                    <i class="fa fa-arrow-alt-circle-left"></i>Voltar
                </button>
            </div>
        </div>
    </form>
</div>